package poly.controller;

import java.util.logging.Logger;

import javax.annotation.Resource;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.select.Elements;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;

import poly.service.IEmpathyService;

@Controller
public class EmpathyController {
	private Logger log = Logger.getLogger(this.getClass().getName());

	@Resource(name = "EmpathyService")
	private IEmpathyService EmpathyService;

	@RequestMapping(value = "/empathy")
	public String empathy() throws Exception {
		log.info(this.getClass().getName() + "########동물공감 실행########");
		
		String url = "https://www.naver.com/";
		
		// JSOUP 라이브러리를 통해 사이트에 접속되면, 그 사이트 전체 HTML 소스 저장할 변수
		Document doc = Jsoup.connect(url).get();
		
		// 사이트 접속 (http프로토콜만 가능, https 프로토콜은 보안상 안됨)
		
		// 크롤링할 웹페이지의 전체 소스 중 일부 태그를 선택하기 위해 사용
		// <div class=" "> 이 태그 내에서 있는 HTML소스만 element에 저장됨
		Elements element = doc.select("PC-THEME-ANIAML-EDIT-AREA");
		
		System.out.println(element);
		return "/empathy";
	}

}
